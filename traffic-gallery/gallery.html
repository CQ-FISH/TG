<!DOCTYPE html>
<!--
================================================================================
交通图库 - 发现页面 (gallery.html)
================================================================================

【文件说明】
本文件是交通图库网站的发现页面，主要功能包括：

1. 作品分类筛选：支持按主分类和子分类筛选作品
2. 标签筛选：支持按热门标签筛选作品
3. 关键词搜索：支持通过关键词搜索作品
4. 作品展示：以网格布局展示筛选后的作品
5. 分页功能：对大量作品进行分页展示
6. 作品统计：显示当前筛选条件下的作品数量

【页面结构】
- 导航栏：与其他页面保持一致的导航结构
- 页面标题：显示"发现精彩作品"标题和副标题
- 筛选区域：包含分类筛选、标签筛选和关键词搜索
- 作品列表：以网格布局展示作品卡片
- 分页控件：用于切换不同页码的作品
- 页脚：包含网站链接、统计数据和版权信息

【技术特点】
- 响应式设计，适配不同屏幕尺寸
- 动态筛选功能，支持多条件组合筛选
- 分页机制，提升大量数据的加载性能
- 图片懒加载，优化页面加载速度
- 实时作品统计，显示当前筛选结果数量

【依赖文件】
- CSS文件：css/global.css, css/layout.css
- JS文件：js/config.js, js/data.js, js/main.js, js/gallery.js

【作者】AI Assistant
【日期】2026-02-21
【版本】v1.0.0
================================================================================
-->
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>发现 - 交通图库</title>
  <meta name="description" content="发现交通图库中的精彩作品，按分类、标签筛选，找到你感兴趣的交通摄影作品。">
  <!-- 全局样式 -->
  <link rel="stylesheet" href="css/global.css">
  <link rel="stylesheet" href="css/layout.css">
  <!-- 核心JS文件 -->
  <script src="js/config.js"></script>
  <script src="js/database.js"></script>
  <script src="js/main.js"></script>
  <script src="js/gallery.js"></script>
</head>
<body>
  <!-- 导航栏 -->
  <nav class="navbar">
    <div class="navbar-container">
      <!-- 品牌标识 -->
      <a href="index.html" class="navbar-brand">
        <span class="navbar-brand-icon">🚗</span>
        <span>交通图库</span>
      </a>
      
      <!-- 主导航 -->
      <ul class="navbar-nav">
        <li class="nav-item">
          <a href="index.html" class="nav-link">首页</a>
        </li>
        <li class="nav-item dropdown">
          <a href="#" class="nav-link">分类</a>
          <div class="dropdown-menu" id="nav-category-dropdown"></div>
        </li>
        <li class="nav-item">
          <a href="gallery.html" class="nav-link">发现</a>
        </li>
        <li class="nav-item">
          <a href="upload.html" class="nav-link">上传</a>
        </li>
        <li class="nav-item" id="login-register-link">
          <a href="login.html" class="nav-link">登录/注册</a>
        </li>
        <li class="nav-item dropdown user-dropdown" id="user-dropdown" style="display: none;">
          <div class="user-avatar" id="user-avatar">
            <span id="username-display"></span>
          </div>
          <div class="dropdown-menu">
            <a href="profile.html" class="dropdown-item">个人信息</a>
            <a href="#" class="dropdown-item" onclick="logout()">退出登录</a>
          </div>
        </li>
      </ul>
      
      <!-- 搜索框 -->
      <div class="search-container">
        <input type="text" id="global-search-input" class="search-input" placeholder="搜索作品、摄影师...">
        <button type="button" id="global-search-btn" class="search-btn">搜索</button>
      </div>
    </div>
  </nav>

  <!-- 页面内容 -->
  <main class="content">
    <!-- 页面标题 -->
    <section class="page-header">
      <div class="container">
        <h1 class="page-title">发现精彩作品</h1>
        <p class="page-subtitle">按分类、标签筛选，找到你感兴趣的交通摄影作品</p>
      </div>
    </section>

    <!-- 筛选区域 -->
    <section class="filter-section">
      <div class="container">
        <!-- 主分类筛选 -->
        <div class="filter-group">
          <h3 class="filter-title">作品分类</h3>
          <div class="filter-buttons" id="main-category-filter"></div>
        </div>
        
        <!-- 子分类筛选 -->
        <div class="filter-group">
          <h3 class="filter-title">子分类</h3>
          <div class="filter-buttons" id="sub-category-filter"></div>
        </div>
        
        <!-- 标签筛选 -->
        <div class="filter-group">
          <h3 class="filter-title">热门标签</h3>
          <div class="tag-filter" id="tag-filter"></div>
        </div>
        
        <!-- 关键词搜索 -->
        <div class="filter-group">
          <h3 class="filter-title">关键词搜索</h3>
          <div class="search-container">
            <input type="text" id="gallery-search" class="search-input" placeholder="搜索作品标题、描述、摄影师...">
            <button type="button" class="search-btn">搜索</button>
          </div>
        </div>
      </div>
    </section>

    <!-- 作品列表 -->
    <section class="works-section">
      <div class="container">
        <!-- 作品数量统计 -->
        <div class="works-count" id="works-count" style="margin-bottom: 1.5rem; font-size: 1.1rem; font-weight: 500; color: #333;"></div>
        
        <!-- 作品网格 -->
        <div class="works-grid" id="works-grid"></div>
        
        <!-- 分页 -->
        <div class="pagination" id="pagination"></div>
      </div>
    </section>
  </main>

  <!-- 页脚 -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-row">
        <div class="footer-col">
          <h3>关于我们</h3>
          <ul class="footer-links">
            <li><a href="about.html">关于交通图库</a></li>
            <li><a href="about.html#rules">使用规则</a></li>
            <li><a href="about.html#contact">联系我们</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h3>快速链接</h3>
          <ul class="footer-links">
            <li><a href="gallery.html">最新作品</a></li>
            <li><a href="gallery.html?sort=popular">热门作品</a></li>
            <li><a href="upload.html">上传作品</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h3>帮助中心</h3>
          <ul class="footer-links">
            <li><a href="faq.html">常见问题</a></li>
            <li><a href="bug.html">提交BUG</a></li>
            <li><a href="bug-list.html">BUG列表</a></li>
          </ul>
        </div>
      </div>
      
      <!-- 统计信息 -->
      <div class="footer-stats">
        <div class="footer-stats-item">
          <span class="footer-stats-number" id="online-users"></span>
          <span class="footer-stats-label">在线人数</span>
        </div>
        <div class="footer-stats-item">
          <span class="footer-stats-number" id="total-visits"></span>
          <span class="footer-stats-label">累计访问</span>
        </div>
        <div class="footer-stats-item">
          <span class="footer-stats-number" id="registered-users"></span>
          <span class="footer-stats-label">注册用户</span>
        </div>
        <div class="footer-stats-item">
          <span class="footer-stats-number" id="today-visits"></span>
          <span class="footer-stats-label">今日访问</span>
        </div>
      </div>
      
      <!-- 版权信息 -->
      <div class="footer-bottom">
        <p>&copy; 2026 交通图库 - 全品类交通摄影作品分享平台 | 版本 v1.0.0</p>
      </div>
    </div>
  </footer>

  <!-- 返回顶部按钮 -->
  <div class="back-to-top" id="back-to-top">↑</div>
</body>
</html>
