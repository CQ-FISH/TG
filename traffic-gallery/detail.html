<!DOCTYPE html>
<!--
================================================================================
交通图库 - 作品详情页面 (detail.html)
================================================================================

【文件说明】
本文件是交通图库网站的作品详情页面，主要功能包括：

1. 作品信息展示：显示作品标题、摄影师、拍摄地点、日期等详细信息
2. 作品图片展示：展示作品的高清图片
3. 作品描述：显示作品的详细描述信息
4. 作品标签：展示作品的标签，便于用户了解作品主题
5. 作品操作：提供点赞和返回图库的操作按钮
6. 相关作品推荐：基于当前作品的分类和标签推荐相关作品
7. 浏览量统计：自动记录和显示作品的浏览次数

【页面结构】
- 导航栏：与其他页面保持一致的导航结构
- 作品详情：包含作品标题、元信息、图片、描述、标签和操作按钮
- 相关作品：展示与当前作品相关的其他作品
- 页脚：包含网站链接、统计数据和版权信息

【技术特点】
- 响应式设计，适配不同屏幕尺寸
- 动态数据加载，从URL参数获取作品ID并加载对应数据
- 点赞功能，实时更新点赞数
- 浏览量统计，自动增加作品的浏览次数
- 相关作品推荐算法，基于分类和标签匹配
- 图片懒加载，优化页面加载速度

【依赖文件】
- CSS文件：css/global.css, css/layout.css
- JS文件：js/config.js, js/data.js, js/main.js, js/detail.js

【作者】AI Assistant
【日期】2026-02-21
【版本】v1.0.0
================================================================================
-->
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>作品详情 - 交通图库</title>
  <meta name="description" content="交通图库作品详情页，展示作品的详细信息，包括图片、描述、标签、点赞等功能。">
  <!-- 全局样式 -->
  <link rel="stylesheet" href="css/global.css">
  <link rel="stylesheet" href="css/layout.css">
  <!-- 核心JS文件 -->
  <script src="js/config.js"></script>
  <script src="js/database.js"></script>
  <script src="js/main.js"></script>
  <script src="js/detail.js"></script>
</head>
<body>
  <!-- 导航栏 -->
  <nav class="navbar">
    <div class="navbar-container">
      <!-- 品牌标识 -->
      <a href="index.html" class="navbar-brand">
        <span class="navbar-brand-icon">🚗</span>
        <span>交通图库</span>
      </a>
      
      <!-- 主导航 -->
      <ul class="navbar-nav">
        <li class="nav-item">
          <a href="index.html" class="nav-link">首页</a>
        </li>
        <li class="nav-item dropdown">
          <a href="#" class="nav-link">分类</a>
          <div class="dropdown-menu" id="nav-category-dropdown"></div>
        </li>
        <li class="nav-item">
          <a href="gallery.html" class="nav-link">发现</a>
        </li>
        <li class="nav-item">
          <a href="upload.html" class="nav-link">上传</a>
        </li>
        <li class="nav-item" id="login-register-link">
          <a href="login.html" class="nav-link">登录/注册</a>
        </li>
        <li class="nav-item dropdown user-dropdown" id="user-dropdown" style="display: none;">
          <div class="user-avatar" id="user-avatar">
            <span id="username-display"></span>
          </div>
          <div class="dropdown-menu">
            <a href="profile.html" class="dropdown-item">个人信息</a>
            <a href="#" class="dropdown-item" onclick="logout()">退出登录</a>
          </div>
        </li>
      </ul>
      
      <!-- 搜索框 -->
      <div class="search-container">
        <input type="text" id="global-search-input" class="search-input" placeholder="搜索作品、摄影师...">
        <button type="button" id="global-search-btn" class="search-btn">搜索</button>
      </div>
    </div>
  </nav>

  <!-- 页面内容 -->
  <main class="content">
    <!-- 作品详情 -->
    <section class="work-detail">
      <div class="container">
        <!-- 作品标题和元信息 -->
        <div class="work-detail-header">
          <h1 class="work-detail-title" id="work-title"></h1>
          <div class="work-detail-meta">
            <span>📷 <span id="work-photographer"></span></span>
            <span>📍 <span id="work-location"></span></span>
            <span>📅 <span id="work-shoot-date"></span></span>
            <span>📁 <span class="work-detail-category" id="work-category"></span></span>
            <span>👁️ <span id="work-views"></span> 浏览</span>
            <span>❤️ <span id="work-likes"></span> 点赞</span>
            <span>⏰ <span id="work-upload-time"></span></span>
          </div>
        </div>

        <!-- 作品图片 -->
        <div class="work-detail-image">
          <img id="work-main-image" src="" alt="作品图片" class="img-fluid">
        </div>

        <!-- 作品描述 -->
        <div class="work-detail-description">
          <h3>作品描述</h3>
          <p id="work-description"></p>
        </div>

        <!-- 作品标签 -->
        <div class="work-detail-tags">
          <h3>作品标签</h3>
          <div id="work-tags"></div>
        </div>

        <!-- 作品操作 -->
        <div class="work-detail-actions">
          <button id="like-btn" class="action-btn">🤍 点赞</button>
          <button id="back-btn" class="action-btn">⬅️ 返回图库</button>
        </div>
      </div>
    </section>

    <!-- 相关作品 -->
    <section class="related-works">
      <div class="container">
        <h2 class="related-works-title">相关作品推荐</h2>
        <div class="related-works-grid" id="related-works"></div>
      </div>
    </section>
  </main>

  <!-- 页脚 -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-row">
        <div class="footer-col">
          <h3>关于我们</h3>
          <ul class="footer-links">
            <li><a href="about.html">关于交通图库</a></li>
            <li><a href="about.html#rules">使用规则</a></li>
            <li><a href="about.html#contact">联系我们</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h3>快速链接</h3>
          <ul class="footer-links">
            <li><a href="gallery.html">最新作品</a></li>
            <li><a href="gallery.html?sort=popular">热门作品</a></li>
            <li><a href="upload.html">上传作品</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h3>帮助中心</h3>
          <ul class="footer-links">
            <li><a href="faq.html">常见问题</a></li>
            <li><a href="bug.html">提交BUG</a></li>
            <li><a href="bug-list.html">BUG列表</a></li>
          </ul>
        </div>
      </div>
      
      <!-- 统计信息 -->
      <div class="footer-stats">
        <div class="footer-stats-item">
          <span class="footer-stats-number" id="online-users"></span>
          <span class="footer-stats-label">在线人数</span>
        </div>
        <div class="footer-stats-item">
          <span class="footer-stats-number" id="total-visits"></span>
          <span class="footer-stats-label">累计访问</span>
        </div>
        <div class="footer-stats-item">
          <span class="footer-stats-number" id="registered-users"></span>
          <span class="footer-stats-label">注册用户</span>
        </div>
        <div class="footer-stats-item">
          <span class="footer-stats-number" id="today-visits"></span>
          <span class="footer-stats-label">今日访问</span>
        </div>
      </div>
      
      <!-- 版权信息 -->
      <div class="footer-bottom">
        <p>&copy; 2026 交通图库 - 全品类交通摄影作品分享平台 | 版本 v1.0.0</p>
      </div>
    </div>
  </footer>

  <!-- 返回顶部按钮 -->
  <div class="back-to-top" id="back-to-top">↑</div>
</body>
</html>
