# å…¨å“ç±»äº¤é€šå›¾åº“ç½‘ç«™å¼€å‘å®Œæ•´æ–¹æ¡ˆï¼ˆçº¯HTML+CSS+JSç‰ˆï¼‰
> å¯¹æ ‡ `xzphotos.cn` å¼€å‘ï¼Œè¦†ç›–**é“è·¯ã€èˆªç©ºã€é™†è¿ï¼ˆå®¢è½¦&å…¬äº¤ï¼‰ã€æ°´è¿ã€ç‰¹æ®Šã€é£æ™¯äººæ–‡**å…¨å“ç±»äº¤é€šæ‘„å½±ä½œå“ï¼Œçº¯åŸç”Ÿå‰ç«¯æŠ€æœ¯æ ˆï¼Œå…¼å®¹95%ä»¥ä¸Šä¸»æµæµè§ˆå™¨ï¼Œå¼€ç®±å³ç”¨ã€å¯ç›´æ¥éƒ¨ç½²

---

## ä¸€ã€é¡¹ç›®æ ¸å¿ƒå®šä½ä¸æŠ€æœ¯è§„èŒƒ
### 1. æ ¸å¿ƒåŠŸèƒ½å®šä½
| åŠŸèƒ½æ¨¡å— | è¯¦ç»†è¯´æ˜ |
|----------|----------|
| ä½œå“å±•ç¤º | é¦–é¡µç²¾é€‰ã€æœ€æ–°/çƒ­é—¨ä½œå“ç€‘å¸ƒæµã€åˆ†ç±»ä¸“é¢˜å±•ç¤ºã€ä½œå“è¯¦æƒ…å¤§å›¾é¢„è§ˆ |
| åˆ†ç±»ä½“ç³» | 6å¤§ä¸»åˆ†ç±»+å¤šçº§å­åˆ†ç±»ï¼Œæ”¯æŒä¸»/å­åˆ†ç±»è”åŠ¨ç­›é€‰ã€æ ‡ç­¾ç²¾å‡†æ£€ç´¢ |
| æœç´¢åŠŸèƒ½ | å…¨å­—æ®µå…³é”®è¯æœç´¢ï¼Œæ”¯æŒæ ‡é¢˜ã€æè¿°ã€æ ‡ç­¾ã€æ‹æ‘„åœ°ç‚¹ã€æ‘„å½±å¸ˆå¤šç»´åº¦åŒ¹é… |
| ä½œå“ä¸Šä¼  | å‰ç«¯å›¾ç‰‡é¢„è§ˆã€åˆ†ç±»è”åŠ¨é€‰æ‹©ã€ä½œå“ä¿¡æ¯å¡«å†™ã€æœ¬åœ°æ•°æ®æŒä¹…åŒ–å­˜å‚¨ |
| äº¤äº’åŠŸèƒ½ | ä½œå“ç‚¹èµã€æµè§ˆé‡ç»Ÿè®¡ã€ç›¸å…³ä½œå“æ¨èã€æ‚¬åœåŠ¨æ•ˆã€å“åº”å¼é€‚é… |
| åŸºç¡€é¡µé¢ | é¦–é¡µã€å›¾åº“ç­›é€‰é¡µã€ä½œå“è¯¦æƒ…é¡µã€ä½œå“ä¸Šä¼ é¡µã€å…³äº/è§„åˆ™é¡µ |

### 2. æŠ€æœ¯æ ˆä¸é€‚é…è¦æ±‚
- **æ ¸å¿ƒæŠ€æœ¯**ï¼šçº¯ HTML5 + CSS3 + åŸç”ŸJavaScriptï¼ˆæ— æ¡†æ¶ä¾èµ–ï¼‰
- **é€‚é…ç›®æ ‡**ï¼šå…¼å®¹Chromeã€Firefoxã€Edgeã€Safariä¸»æµæµè§ˆå™¨ï¼Œå…¼å®¹IE11é™çº§å±•ç¤º
- **æ•°æ®å­˜å‚¨**ï¼šå‰ç«¯ä½¿ç”¨ `localStorage` å®ç°æ•°æ®æŒä¹…åŒ–ï¼Œå¯æ— ç¼å¯¹æ¥åç»­åç«¯æ¥å£
- **æ€§èƒ½è¦æ±‚**ï¼šå›¾ç‰‡æ‡’åŠ è½½ã€ä»£ç è½»é‡åŒ–ã€å“åº”å¼å¸ƒå±€ï¼Œé€‚é…PC/å¹³æ¿/æ‰‹æœºå…¨è®¾å¤‡

---

## äºŒã€å…¨å“ç±»ä½œå“åˆ†ç±»ä½“ç³»
| ä¸»åˆ†ç±»ID | ä¸»åˆ†ç±»åç§° | å­åˆ†ç±»å®Œæ•´åˆ—è¡¨ | åˆ†ç±»è¯´æ˜ |
|----------|------------|----------------|----------|
| railway | é“è·¯ | é«˜é€ŸåŠ¨è½¦ç»„ï¼ˆé«˜é“/åŸé™…ï¼‰ã€æ™®é€Ÿåˆ—è½¦ï¼ˆç»¿çš®/ç‰¹å¿«ï¼‰ã€åœ°é“/è½»è½¨ã€è’¸æ±½æœºè½¦ã€é“è·¯é£æ™¯ | å…¨å“ç±»è½¨é“äº¤é€šå·¥å…·åŠç›¸å…³åœºæ™¯ |
| aviation | èˆªç©º | æ°‘èˆªå®¢æœºï¼ˆå¹²çº¿/æ”¯çº¿ï¼‰ã€é€šç”¨èˆªç©ºï¼ˆå…¬åŠ¡æœº/ç›´å‡æœºï¼‰ã€å†›ç”¨é£æœºã€èˆªç©ºé£æ™¯ã€æœºåœºè®¾æ–½ | æ°‘ç”¨åˆ°å†›ç”¨èˆªç©ºå…¨å“ç±»æ‘„å½±ä½œå“ |
| land | é™†è¿ | å®¢è½¦ï¼ˆé•¿é€”/æ—…æ¸¸ï¼‰ã€å…¬äº¤ï¼ˆåŸå¸‚å…¬äº¤/BRTï¼‰ã€å‡ºç§Ÿè½¦ã€è´§è½¦ã€ç‰¹ç§è½¦è¾†ï¼ˆå·¥ç¨‹è½¦/æ¶ˆé˜²è½¦ï¼‰ | å…¬è·¯è¿è¾“å…¨å“ç±»è½¦è¾†åŠåœºæ™¯ |
| water | æ°´è¿ | é‚®è½®/å®¢è½®ã€è´§è½®/é›†è£…ç®±èˆ¹ã€æ¸¸è‰‡/å¸†èˆ¹ã€æ¸¯å£è®¾æ–½ã€æ°´ä¸Šé£æ™¯ | æ°´ä¸Šè¿è¾“å·¥å…·åŠæ¸¯å£ã€æ°´åŸŸç›¸å…³åœºæ™¯ |
| special | ç‰¹æ®Š | ç´¢é“/ç¼†è½¦ã€ç£æ‚¬æµ®ã€AGVæ™ºèƒ½è½¦ã€å…¶ä»–åˆ›æ–°äº¤é€šå·¥å…· | å°ä¼—ã€æ–°å‹ã€ç‰¹æ®Šç±»äº¤é€šæ–¹å¼ |
| culture | é£æ™¯äººæ–‡ | äº¤é€šæ¢çº½é£æ™¯ã€æ—…é€”é£å…‰ã€äº¤é€šäººç‰©æ•…äº‹ã€äº¤é€šå†å²é—è¿¹ | ä¸äº¤é€šç›¸å…³çš„äººæ–‡çºªå®ã€è‡ªç„¶é£å…‰ä½œå“ |

---

## ä¸‰ã€é¡¹ç›®å®Œæ•´æ–‡ä»¶ç»“æ„
```
traffic-gallery/
â”œâ”€â”€ index.html                # ç½‘ç«™é¦–é¡µ
â”œâ”€â”€ detail.html               # ä½œå“è¯¦æƒ…é¡µ
â”œâ”€â”€ about.html                # å…³äº/è§„åˆ™è¯´æ˜é¡µ
â”œâ”€â”€ login.html                # ç™»å½•é¡µ
â”œâ”€â”€ register.html             # æ³¨å†Œé¡µ
â”œâ”€â”€ profile.html              # ç”¨æˆ·ä¸ªäººä¿¡æ¯é¡µ
â”œâ”€â”€ gallery.html              # å›¾åº“ç­›é€‰é¡µï¼ˆç”¨æˆ·ç™»å½•åå¯è§ï¼‰
â”œâ”€â”€ upload.html               # ä½œå“ä¸Šä¼ é¡µï¼ˆç”¨æˆ·ç™»å½•åå¯è§ï¼‰
â”œâ”€â”€ review.html               # ä½œå“å®¡æ ¸é¡µï¼ˆç®¡ç†å‘˜ç™»å½•åå¯è§ï¼‰
â”œâ”€â”€ admin.html                # ç®¡ç†å‘˜ç®¡ç†é¡µï¼ˆç®¡ç†å‘˜ç™»å½•åå¯è§ï¼‰
â”œâ”€â”€ 404.html                  # 404é”™è¯¯é¡µ
â”œâ”€â”€ 500.html                  # 500é”™è¯¯é¡µ
â”œâ”€â”€ maintenance.html          # ç»´æŠ¤é¡µï¼ˆæš‚æœªå¯ç”¨ï¼‰
â”œâ”€â”€ contact.html              # è”ç³»æˆ‘ä»¬é¡µ
â”œâ”€â”€ bug.html                  # æäº¤BUGé¡µ
â”œâ”€â”€ bug-report.html           # BUGæŠ¥å‘Šé¡µï¼ˆç”¨æˆ·æäº¤åå±•ç¤ºï¼‰
â”œâ”€â”€ bug-list.html             # BUGåˆ—è¡¨é¡µï¼ˆå‘æ‰€æœ‰ç”¨æˆ·å±•ç¤ºå·²æäº¤çš„BUG,å±•ç¤ºBUGè¯¦æƒ…,ç®¡ç†å‘˜å›å¤ç­‰ï¼‰
â”œâ”€â”€ css/      
â”‚   â”œâ”€â”€ global.css            # å…¨å±€æ ·å¼ä¸é‡ç½®
â”‚   â”œâ”€â”€ layout.css            # å¸ƒå±€ä¸å“åº”å¼æ ·å¼
â”‚   â””â”€â”€ component.css         # ç»„ä»¶æ ·å¼ï¼ˆå¡ç‰‡/æŒ‰é’®/è¡¨å•ç­‰ï¼‰
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ config.js             # å…¨å±€é…ç½®ï¼ˆåˆ†ç±»ä½“ç³»/å¸¸é‡å®šä¹‰ï¼‰
â”‚   â”œâ”€â”€ data.js               # æ•°æ®ç®¡ç†ï¼ˆæ¨¡æ‹Ÿæ•°æ®/æœ¬åœ°å­˜å‚¨æ“ä½œï¼‰
â”‚   â”œâ”€â”€ main.js               # å…¨å±€é€šç”¨é€»è¾‘ï¼ˆå¯¼èˆª/æœç´¢/å…¬å…±æ–¹æ³•ï¼‰
â”‚   â”œâ”€â”€ gallery.js            # å›¾åº“é¡µç­›é€‰ä¸æ¸²æŸ“é€»è¾‘
â”‚   â”œâ”€â”€ detail.js             # ä½œå“è¯¦æƒ…é¡µé€»è¾‘
â”‚   â””â”€â”€ upload.js             # ä½œå“ä¸Šä¼ é¡µé€»è¾‘
â””â”€â”€ assets/
    â”œâ”€â”€ images/               # é™æ€å›¾ç‰‡èµ„æºï¼ˆæŒ‰åˆ†ç±»å­æ–‡ä»¶å¤¹å­˜æ”¾ï¼‰
    â”‚   â”œâ”€â”€ railway/
    â”‚   â”œâ”€â”€ aviation/
    â”‚   â”œâ”€â”€ land/
    â”‚   â”œâ”€â”€ water/
    â”‚   â”œâ”€â”€ special/
    â”‚   â””â”€â”€ culture/
    â”œâ”€â”€ icons/                # å›¾æ ‡èµ„æº
    â””â”€â”€ favicon.ico           # ç½‘ç«™å›¾æ ‡
```

---

## å››ã€æ ¸å¿ƒJSæ–‡ä»¶å®Œæ•´ä»£ç ç¤ºä¾‹
### 1. å…¨å±€é…ç½®æ–‡ä»¶ `js/config.js`
> ç»Ÿä¸€ç®¡ç†åˆ†ç±»ä½“ç³»ã€å…¨å±€å¸¸é‡ï¼Œä¾¿äºåç»­ç»´æŠ¤ä¸æ‰©å±•
```javascript
/**
 * äº¤é€šå›¾åº“å…¨å±€é…ç½®æ–‡ä»¶ v1.0.0
 * ç»Ÿä¸€ç®¡ç†åˆ†ç±»ä½“ç³»ã€é¢„è®¾æ ‡ç­¾ã€å…¨å±€å¸¸é‡
 * æ‰€æœ‰é¡µé¢å‡éœ€ä¼˜å…ˆå¼•å…¥æ­¤æ–‡ä»¶
 */

// 1. å…¨å“ç±»åˆ†ç±»ä½“ç³»æ ¸å¿ƒå®šä¹‰
const CATEGORIES = {
  railway: {
    id: 'railway',
    name: 'é“è·¯',
    icon: 'ğŸš„',
    themeColor: '#e74c3c',
    subCategories: [
      { id: 'highspeed', name: 'é«˜é€ŸåŠ¨è½¦ç»„' },
      { id: 'normalspeed', name: 'æ™®é€Ÿåˆ—è½¦' },
      { id: 'metro', name: 'åœ°é“/è½»è½¨' },
      { id: 'steam', name: 'è’¸æ±½æœºè½¦' },
      { id: 'railway_scenery', name: 'é“è·¯é£æ™¯' }
    ]
  },
  aviation: {
    id: 'aviation',
    name: 'èˆªç©º',
    icon: 'âœˆï¸',
    themeColor: '#3498db',
    subCategories: [
      { id: 'civil', name: 'æ°‘èˆªå®¢æœº' },
      { id: 'general', name: 'é€šç”¨èˆªç©º' },
      { id: 'military', name: 'å†›ç”¨é£æœº' },
      { id: 'aviation_scenery', name: 'èˆªç©ºé£æ™¯' },
      { id: 'airport', name: 'æœºåœºè®¾æ–½' }
    ]
  },
  land: {
    id: 'land',
    name: 'é™†è¿',
    icon: 'ğŸšŒ',
    themeColor: '#2ecc71',
    subCategories: [
      { id: 'coach', name: 'å®¢è½¦' },
      { id: 'bus', name: 'å…¬äº¤' },
      { id: 'taxi', name: 'å‡ºç§Ÿè½¦' },
      { id: 'truck', name: 'è´§è½¦' },
      { id: 'special_vehicle', name: 'ç‰¹ç§è½¦è¾†' }
    ]
  },
  water: {
    id: 'water',
    name: 'æ°´è¿',
    icon: 'ğŸš¢',
    themeColor: '#9b59b6',
    subCategories: [
      { id: 'cruise', name: 'é‚®è½®/å®¢è½®' },
      { id: 'cargo', name: 'è´§è½®/é›†è£…ç®±èˆ¹' },
      { id: 'yacht', name: 'æ¸¸è‰‡/å¸†èˆ¹' },
      { id: 'port', name: 'æ¸¯å£è®¾æ–½' },
      { id: 'water_scenery', name: 'æ°´ä¸Šé£æ™¯' }
    ]
  },
  special: {
    id: 'special',
    name: 'ç‰¹æ®Š',
    icon: 'ğŸš¡',
    themeColor: '#f39c12',
    subCategories: [
      { id: 'cableway', name: 'ç´¢é“/ç¼†è½¦' },
      { id: 'maglev', name: 'ç£æ‚¬æµ®' },
      { id: 'agv', name: 'AGVæ™ºèƒ½è½¦' },
      { id: 'other', name: 'å…¶ä»–åˆ›æ–°äº¤é€š' }
    ]
  },
  culture: {
    id: 'culture',
    name: 'é£æ™¯äººæ–‡',
    icon: 'ğŸ“·',
    themeColor: '#1abc9c',
    subCategories: [
      { id: 'hub_scenery', name: 'äº¤é€šæ¢çº½é£æ™¯' },
      { id: 'journey_scenery', name: 'æ—…é€”é£å…‰' },
      { id: 'people', name: 'äº¤é€šäººç‰©æ•…äº‹' },
      { id: 'heritage', name: 'äº¤é€šå†å²é—è¿¹' }
    ]
  }
};

// 2. é¢„è®¾æ ‡ç­¾åº“ï¼ˆç”¨äºä¸Šä¼ å¿«é€Ÿé€‰æ‹©ã€çƒ­é—¨æ ‡ç­¾ç­›é€‰ï¼‰
const PRESET_TAGS = [
  'æ—¥è½', 'é›ªæ™¯', 'åŸå¸‚å¤œæ™¯', 'å¤å¤', 'ç°ä»£ç§‘æŠ€',
  'æ˜¥è¿', 'é¦–å‘è½¦', 'ç»å…¸æœºå‹', 'æ¸¯å£æ—¥å‡º', 'å±±é—´é“è·¯',
  'é•¿å®‰è¡—', 'é«˜é“ç«™', 'äº‘æµ·', 'è€ç«è½¦', 'é‚®è½®', 'åœ°é“'
];

// 3. å…¨å±€å¸¸é‡é…ç½®
const GLOBAL_CONST = {
  // æœ¬åœ°å­˜å‚¨key
  STORAGE_WORKS_KEY: 'traffic_gallery_works',
  STORAGE_LIKE_KEY: 'traffic_gallery_likes',
  // åˆ†é¡µé…ç½®
  PAGE_SIZE: 12,
  // å›¾ç‰‡ä¸Šä¼ é™åˆ¶
  MAX_IMAGE_SIZE: 5 * 1024 * 1024, // 5MB
  ALLOW_IMAGE_TYPE: ['image/jpeg', 'image/png', 'image/webp', 'image/jpg'],
  // ç½‘ç«™åŸºç¡€ä¿¡æ¯
  SITE_NAME: 'äº¤é€šå›¾åº“',
  SITE_VERSION: '1.0.0'
};
```

### 2. æ•°æ®ç®¡ç†æ–‡ä»¶ `js/data.js`
> ç»Ÿä¸€ç®¡ç†æ¨¡æ‹Ÿæ•°æ®ã€æœ¬åœ°å­˜å‚¨è¯»å†™æ“ä½œï¼Œæ‰€æœ‰æ•°æ®æ“ä½œå‡é€šè¿‡æ­¤æ–‡ä»¶å®ç°
```javascript
/**
 * æ•°æ®ç®¡ç†æ ¸å¿ƒæ–‡ä»¶
 * è´Ÿè´£æ¨¡æ‹Ÿæ•°æ®åˆå§‹åŒ–ã€æœ¬åœ°å­˜å‚¨è¯»å†™ã€æ•°æ®å¢åˆ æ”¹æŸ¥
 * ä¾èµ– config.js éœ€ä¼˜å…ˆå¼•å…¥é…ç½®æ–‡ä»¶
 */

// 1. åˆå§‹æ¨¡æ‹Ÿæ•°æ®ï¼ˆå…¨å“ç±»è¦†ç›–ï¼‰
const INIT_WORKS_DATA = [
  // é“è·¯ç±»ä½œå“
  {
    id: 1001,
    title: 'å¤å…´å·CR400AFç©¿è¶Šæ²¹èœèŠ±ç”°',
    category: {
      main: 'railway',
      sub: 'highspeed'
    },
    description: 'æ˜¥æ—¥åˆåï¼ŒCR400AFå‹å¤å…´å·é«˜é€Ÿåˆ—è½¦ç©¿è¡Œäºèµ£é—½ä¸¤çœäº¤ç•Œå¤„çš„æ²¹èœèŠ±ç”°ä¹‹é—´ï¼Œè®°å½•ä¸­å›½é«˜é“ä¸æ˜¥æ—¥ç”°å›­çš„å®Œç¾èåˆã€‚',
    tags: ['é«˜é“', 'æ²¹èœèŠ±', 'æ˜¥å¤©', 'å¤å…´å·', 'å±±é—´é“è·¯'],
    location: 'æ±Ÿè¥¿çœä¸Šé¥¶å¸‚',
    shootDate: '2025-03-15',
    photographer: 'é“é“è¿·å°ç‹',
    views: 1523,
    likes: 89,
    imageUrl: 'assets/images/railway/highspeed/rex400af.jpg',
    thumbnailUrl: 'assets/images/railway/highspeed/rex400af_thumb.jpg',
    uploadTime: '2025-03-16 14:23:00'
  },
  {
    id: 1002,
    title: 'éŸ¶å±±SS8ç‰µå¼•ç»¿çš®è½¦è¿›ç«™',
    category: {
      main: 'railway',
      sub: 'normalspeed'
    },
    description: 'ç»å…¸çš„éŸ¶å±±SS8å‹ç”µåŠ›æœºè½¦ç‰µå¼•25Gå‹ç»¿çš®è½¦ç¼“ç¼“é©¶å…¥é•¿æ²™ç«™ï¼Œè®°å½•æ€€æ—§ç»å…¸çš„é“è·¯ç¬é—´ã€‚',
    tags: ['ç»¿çš®è½¦', 'éŸ¶å±±SS8', 'æ€€æ—§', 'é•¿æ²™ç«™', 'è€ç«è½¦'],
    location: 'æ¹–å—çœé•¿æ²™å¸‚',
    shootDate: '2025-01-20',
    photographer: 'æ˜ŸåŸè½¦è¿·',
    views: 2100,
    likes: 156,
    imageUrl: 'assets/images/railway/normalspeed/ss8.jpg',
    thumbnailUrl: 'assets/images/railway/normalspeed/ss8_thumb.jpg',
    uploadTime: '2025-01-21 09:15:00'
  },
  // èˆªç©ºç±»ä½œå“
  {
    id: 2001,
    title: 'æ³¢éŸ³787æ¢¦æƒ³å®¢æœºé™è½ç¬é—´',
    category: {
      main: 'aviation',
      sub: 'civil'
    },
    description: 'å—èˆªæ³¢éŸ³787-9åœ¨å¤•é˜³ä¸‹é™è½äºå¹¿å·ç™½äº‘å›½é™…æœºåœº02Lè·‘é“ï¼Œè®°å½•æœºèº«ä¸æ™šéœåŒæ¡†çš„ç»ç¾ç¬é—´ã€‚',
    tags: ['æ³¢éŸ³787', 'å¤•é˜³', 'ç™½äº‘æœºåœº', 'é™è½', 'æ°‘èˆªå®¢æœº'],
    location: 'å¹¿ä¸œçœå¹¿å·å¸‚',
    shootDate: '2025-02-28',
    photographer: 'ç©ºæ¸¯æ‹å®¢',
    views: 3450,
    likes: 278,
    imageUrl: 'assets/images/aviation/civil/b787.jpg',
    thumbnailUrl: 'assets/images/aviation/civil/b787_thumb.jpg',
    uploadTime: '2025-03-01 18:45:00'
  },
  // é™†è¿ç±»ä½œå“
  {
    id: 3001,
    title: 'åŒ—äº¬å…¬äº¤1è·¯â€œä¸­å›½çº¢â€çº¯ç”µåŠ¨è½¦',
    category: {
      main: 'land',
      sub: 'bus'
    },
    description: 'è¡Œé©¶åœ¨é•¿å®‰è¡—ä¸Šçš„åŒ—äº¬å…¬äº¤1è·¯ï¼Œé‡‡ç”¨â€œä¸­å›½çº¢â€æ¶‚è£…çš„çº¯ç”µåŠ¨å®¢è½¦ï¼Œè®°å½•é¦–éƒ½å…¬äº¤çš„æ ‡æ†çº¿è·¯ã€‚',
    tags: ['åŒ—äº¬å…¬äº¤', 'é•¿å®‰è¡—', 'çº¯ç”µåŠ¨', 'ä¸­å›½çº¢', 'å…¬äº¤'],
    location: 'åŒ—äº¬å¸‚ä¸œåŸåŒº',
    shootDate: '2025-04-01',
    photographer: 'äº¬åŸæ‹è½¦äºº',
    views: 890,
    likes: 67,
    imageUrl: 'assets/images/land/bus/beijing1.jpg',
    thumbnailUrl: 'assets/images/land/bus/beijing1_thumb.jpg',
    uploadTime: '2025-04-02 11:30:00'
  },
  // æ°´è¿ç±»ä½œå“
  {
    id: 4001,
    title: 'â€œæµ·æ´‹é‡å­å·â€é‚®è½®åœé ä¸Šæµ·å´æ·å£',
    category: {
      main: 'water',
      sub: 'cruise'
    },
    description: 'çš‡å®¶åŠ å‹’æ¯”â€œæµ·æ´‹é‡å­å·â€é‚®è½®æ¸…æ™¨åœé äºä¸Šæµ·å´æ·å£å›½é™…é‚®è½®æ¸¯ï¼Œè®°å½•å·¨è½®ä¸æœé˜³åŒæ¡†çš„ç”»é¢ã€‚',
    tags: ['é‚®è½®', 'å´æ·å£', 'é‡å­å·', 'æ¸…æ™¨', 'æ¸¯å£æ—¥å‡º'],
    location: 'ä¸Šæµ·å¸‚å®å±±åŒº',
    shootDate: '2025-05-10',
    photographer: 'æµ¦æ±Ÿèˆ¹å½±',
    views: 2200,
    likes: 189,
    imageUrl: 'assets/images/water/cruise/quantum.jpg',
    thumbnailUrl: 'assets/images/water/cruise/quantum_thumb.jpg',
    uploadTime: '2025-05-11 08:20:00'
  },
  // ç‰¹æ®Šç±»ä½œå“
  {
    id: 5001,
    title: 'å¼ å®¶ç•Œå¤©é—¨å±±ç´¢é“äº‘æµ·ç©¿è¡Œ',
    category: {
      main: 'special',
      sub: 'cableway'
    },
    description: 'ä¸–ç•Œæœ€é•¿é«˜å±±å®¢è¿ç´¢é“â€”â€”å¤©é—¨å±±ç´¢é“ï¼Œç©¿æ¢­äºäº‘æµ·ä¹‹é—´ï¼Œè®°å½•é«˜å±±ç´¢é“çš„éœ‡æ’¼è§†è§’ã€‚',
    tags: ['ç´¢é“', 'å¤©é—¨å±±', 'äº‘æµ·', 'å¼ å®¶ç•Œ', 'ç¼†è½¦'],
    location: 'æ¹–å—çœå¼ å®¶ç•Œå¸‚',
    shootDate: '2025-04-20',
    photographer: 'å±±æ°´æ—…äºº',
    views: 4500,
    likes: 320,
    imageUrl: 'assets/images/special/cableway/tianmen.jpg',
    thumbnailUrl: 'assets/images/special/cableway/tianmen_thumb.jpg',
    uploadTime: '2025-04-21 16:00:00'
  },
  // é£æ™¯äººæ–‡ç±»ä½œå“
  {
    id: 6001,
    title: 'æ˜¥è¿ä¸­çš„å¹¿å·å—ç«™',
    category: {
      main: 'culture',
      sub: 'hub_scenery'
    },
    description: '2025å¹´æ˜¥è¿é¦–æ—¥ï¼Œå¹¿å·å—ç«™å€™è½¦å¤§å…å†…äººå¤´æ”’åŠ¨ï¼Œå´åˆç§©åºäº•ç„¶ï¼Œè®°å½•ä¸­å›½æ˜¥è¿çš„äººæ–‡ç¬é—´ã€‚',
    tags: ['æ˜¥è¿', 'å¹¿å·å—ç«™', 'äººæ–‡', 'æ˜¥èŠ‚', 'é«˜é“ç«™', 'äº¤é€šæ¢çº½'],
    location: 'å¹¿ä¸œçœå¹¿å·å¸‚',
    shootDate: '2025-01-26',
    photographer: 'åŸå¸‚è®°å½•è€…',
    views: 5600,
    likes: 420,
    imageUrl: 'assets/images/culture/hub/gznan.jpg',
    thumbnailUrl: 'assets/images/culture/hub/gznan_thumb.jpg',
    uploadTime: '2025-01-27 20:10:00'
  }
];

// 2. æ•°æ®åˆå§‹åŒ–ï¼šé¦–æ¬¡åŠ è½½å†™å…¥æœ¬åœ°å­˜å‚¨
function initWorksData() {
  if (!localStorage.getItem(GLOBAL_CONST.STORAGE_WORKS_KEY)) {
    localStorage.setItem(
      GLOBAL_CONST.STORAGE_WORKS_KEY,
      JSON.stringify(INIT_WORKS_DATA)
    );
  }
  // åˆå§‹åŒ–ç‚¹èµæ•°æ®
  if (!localStorage.getItem(GLOBAL_CONST.STORAGE_LIKE_KEY)) {
    localStorage.setItem(GLOBAL_CONST.STORAGE_LIKE_KEY, JSON.stringify([]));
  }
}

// 3. è·å–æ‰€æœ‰ä½œå“æ•°æ®
function getAllWorks() {
  initWorksData();
  const works = localStorage.getItem(GLOBAL_CONST.STORAGE_WORKS_KEY);
  return works ? JSON.parse(works) : [];
}

// 4. ä¿å­˜ä½œå“æ•°æ®ï¼ˆæ–°å¢/ä¿®æ”¹ï¼‰
function saveWorks(worksList) {
  localStorage.setItem(
    GLOBAL_CONST.STORAGE_WORKS_KEY,
    JSON.stringify(worksList)
  );
}

// 5. æ ¹æ®IDè·å–å•æ¡ä½œå“è¯¦æƒ…
function getWorkById(workId) {
  const works = getAllWorks();
  return works.find(item => item.id === Number(workId)) || null;
}

// 6. æ–°å¢ä½œå“
function addNewWork(workData) {
  const works = getAllWorks();
  works.unshift(workData); // æ–°å¢ä½œå“æ”¾åœ¨æœ€å‰é¢
  saveWorks(works);
  return workData.id;
}

// 7. æ›´æ–°ä½œå“æµè§ˆé‡
function updateWorkViews(workId) {
  const works = getAllWorks();
  const index = works.findIndex(item => item.id === Number(workId));
  if (index !== -1) {
    works[index].views += 1;
    saveWorks(works);
  }
}

// 8. ä½œå“ç‚¹èµ/å–æ¶ˆç‚¹èµ
function toggleWorkLike(workId) {
  const likeList = JSON.parse(localStorage.getItem(GLOBAL_CONST.STORAGE_LIKE_KEY));
  const index = likeList.indexOf(Number(workId));
  
  if (index === -1) {
    // ç‚¹èµ
    likeList.push(Number(workId));
    localStorage.setItem(GLOBAL_CONST.STORAGE_LIKE_KEY, JSON.stringify(likeList));
    // æ›´æ–°ç‚¹èµæ•°
    const works = getAllWorks();
    const workIndex = works.findIndex(item => item.id === Number(workId));
    if (workIndex !== -1) {
      works[workIndex].likes += 1;
      saveWorks(works);
    }
    return { isLiked: true, likes: works[workIndex].likes };
  } else {
    // å–æ¶ˆç‚¹èµ
    likeList.splice(index, 1);
    localStorage.setItem(GLOBAL_CONST.STORAGE_LIKE_KEY, JSON.stringify(likeList));
    // æ›´æ–°ç‚¹èµæ•°
    const works = getAllWorks();
    const workIndex = works.findIndex(item => item.id === Number(workId));
    if (workIndex !== -1) {
      works[workIndex].likes -= 1;
      saveWorks(works);
    }
    return { isLiked: false, likes: works[workIndex].likes };
  }
}

// 9. åˆ¤æ–­ä½œå“æ˜¯å¦å·²ç‚¹èµ
function isWorkLiked(workId) {
  const likeList = JSON.parse(localStorage.getItem(GLOBAL_CONST.STORAGE_LIKE_KEY));
  return likeList.indexOf(Number(workId)) !== -1;
}

// é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–æ•°æ®
document.addEventListener('DOMContentLoaded', initWorksData);
```

### 3. å›¾åº“ç­›é€‰é¡µé€»è¾‘ `js/gallery.js`
> å®ç°ä¸»/å­åˆ†ç±»è”åŠ¨ç­›é€‰ã€æ ‡ç­¾ç­›é€‰ã€å…³é”®è¯æœç´¢ã€ä½œå“æ¸²æŸ“ã€åˆ†é¡µåŠŸèƒ½
```javascript
/**
 * å›¾åº“ç­›é€‰é¡µæ ¸å¿ƒé€»è¾‘
 * ä¾èµ– config.jsã€data.jsï¼Œéœ€ä¼˜å…ˆå¼•å…¥
 */

// å…¨å±€ç­›é€‰çŠ¶æ€ç®¡ç†
let filterState = {
  mainCategory: 'all',
  subCategory: 'all',
  searchKeyword: '',
  selectedTags: [],
  currentPage: 1
};

// é¡µé¢åˆå§‹åŒ–
function initGalleryPage() {
  renderMainCategoryFilter();
  renderTagFilter();
  renderWorksList();
  bindFilterEvents();
}

// 1. æ¸²æŸ“ä¸»åˆ†ç±»ç­›é€‰å™¨
function renderMainCategoryFilter() {
  const mainFilterContainer = document.getElementById('main-category-filter');
  if (!mainFilterContainer) return;

  // å…¨éƒ¨åˆ†ç±»é€‰é¡¹
  let html = `<button class="filter-btn active" data-main="all">å…¨éƒ¨åˆ†ç±»</button>`;

  // éå†ç”Ÿæˆæ‰€æœ‰ä¸»åˆ†ç±»
  for (const key in CATEGORIES) {
    const category = CATEGORIES[key];
    html += `
      <button 
        class="filter-btn" 
        data-main="${category.id}"
        style="border-left: 3px solid ${category.themeColor}"
      >
        ${category.icon} ${category.name}
      </button>
    `;
  }

  mainFilterContainer.innerHTML = html;
}

// 2. æ¸²æŸ“å­åˆ†ç±»ç­›é€‰å™¨ï¼ˆæ ¹æ®ä¸»åˆ†ç±»åŠ¨æ€æ›´æ–°ï¼‰
function renderSubCategoryFilter(mainCategoryId) {
  const subFilterContainer = document.getElementById('sub-category-filter');
  if (!subFilterContainer) return;

  // å…¨éƒ¨å­åˆ†ç±»é€‰é¡¹
  let html = `<button class="sub-filter-btn active" data-sub="all">å…¨éƒ¨å­åˆ†ç±»</button>`;

  // ä¸»åˆ†ç±»ä¸ºå…¨éƒ¨æ—¶ï¼Œä¸å±•ç¤ºå­åˆ†ç±»
  if (mainCategoryId === 'all' || !CATEGORIES[mainCategoryId]) {
    subFilterContainer.innerHTML = html;
    return;
  }

  // éå†ç”Ÿæˆå¯¹åº”ä¸»åˆ†ç±»çš„å­åˆ†ç±»
  const subCategories = CATEGORIES[mainCategoryId].subCategories;
  subCategories.forEach(sub => {
    html += `
      <button class="sub-filter-btn" data-sub="${sub.id}">
        ${sub.name}
      </button>
    `;
  });

  subFilterContainer.innerHTML = html;
}

// 3. æ¸²æŸ“æ ‡ç­¾ç­›é€‰å™¨
function renderTagFilter() {
  const tagContainer = document.getElementById('tag-filter');
  if (!tagContainer) return;

  let html = '';
  PRESET_TAGS.forEach(tag => {
    html += `<span class="tag-item" data-tag="${tag}">${tag}</span>`;
  });

  tagContainer.innerHTML = html;
}

// 4. æ‰§è¡Œä½œå“ç­›é€‰
function filterWorks() {
  let allWorks = getAllWorks();
  let filteredWorks = allWorks;

  // ä¸»åˆ†ç±»ç­›é€‰
  if (filterState.mainCategory !== 'all') {
    filteredWorks = filteredWorks.filter(
      work => work.category.main === filterState.mainCategory
    );
  }

  // å­åˆ†ç±»ç­›é€‰
  if (filterState.subCategory !== 'all') {
    filteredWorks = filteredWorks.filter(
      work => work.category.sub === filterState.subCategory
    );
  }

  // æ ‡ç­¾ç­›é€‰
  if (filterState.selectedTags.length > 0) {
    filteredWorks = filteredWorks.filter(work => {
      return filterState.selectedTags.some(tag => work.tags.includes(tag));
    });
  }

  // å…³é”®è¯æœç´¢ç­›é€‰
  if (filterState.searchKeyword.trim()) {
    const keyword = filterState.searchKeyword.trim().toLowerCase();
    filteredWorks = filteredWorks.filter(work => {
      return (
        work.title.toLowerCase().includes(keyword) ||
        work.description.toLowerCase().includes(keyword) ||
        work.location.toLowerCase().includes(keyword) ||
        work.photographer.toLowerCase().includes(keyword) ||
        work.tags.some(tag => tag.toLowerCase().includes(keyword))
      );
    });
  }

  return filteredWorks;
}

// 5. æ¸²æŸ“ä½œå“åˆ—è¡¨
function renderWorksList() {
  const worksGrid = document.getElementById('works-grid');
  const worksCount = document.getElementById('works-count');
  if (!worksGrid || !worksCount) return;

  const filteredWorks = filterWorks();
  const total = filteredWorks.length;

  // æ›´æ–°ä½œå“æ•°é‡
  worksCount.textContent = `å…±æ‰¾åˆ° ${total} ä»¶ä½œå“`;

  // æ— æ•°æ®å¤„ç†
  if (total === 0) {
    worksGrid.innerHTML = `<div class="no-data">æš‚æ— ç¬¦åˆæ¡ä»¶çš„ä½œå“ï¼Œæ¢ä¸ªç­›é€‰æ¡ä»¶è¯•è¯•å§~</div>`;
    return;
  }

  // åˆ†é¡µå¤„ç†
  const start = (filterState.currentPage - 1) * GLOBAL_CONST.PAGE_SIZE;
  const end = start + GLOBAL_CONST.PAGE_SIZE;
  const paginatedWorks = filteredWorks.slice(start, end);

  // æ¸²æŸ“ä½œå“å¡ç‰‡
  let html = '';
  paginatedWorks.forEach(work => {
    const category = CATEGORIES[work.category.main];
    html += `
      <div class="work-card" onclick="goToWorkDetail(${work.id})">
        <div class="card-img-wrapper">
          <img 
            src="${work.thumbnailUrl}" 
            alt="${work.title}" 
            loading="lazy"
          >
          <span class="category-badge" style="background-color: ${category.themeColor}">
            ${category.icon} ${category.name}
          </span>
        </div>
        <div class="card-content">
          <h3 class="work-title">${work.title}</h3>
          <p class="work-meta">
            <span>ğŸ“· ${work.photographer}</span>
            <span>ğŸ“ ${work.location}</span>
          </p>
          <div class="work-tags">
            ${work.tags.slice(0, 3).map(tag => `<span class="tag">${tag}</span>`).join('')}
          </div>
          <div class="work-stats">
            <span>ğŸ‘ï¸ ${work.views}</span>
            <span>â¤ï¸ ${work.likes}</span>
          </div>
        </div>
      </div>
    `;
  });

  worksGrid.innerHTML = html;
  // æ¸²æŸ“åˆ†é¡µ
  renderPagination(total);
}

// 6. æ¸²æŸ“åˆ†é¡µå™¨
function renderPagination(total) {
  const paginationContainer = document.getElementById('pagination');
  if (!paginationContainer) return;

  const totalPage = Math.ceil(total / GLOBAL_CONST.PAGE_SIZE);
  if (totalPage <= 1) {
    paginationContainer.innerHTML = '';
    return;
  }

  let html = '';
  // ä¸Šä¸€é¡µ
  html += `<button class="page-btn" ${filterState.currentPage === 1 ? 'disabled' : ''} data-page="prev">ä¸Šä¸€é¡µ</button>`;
  // é¡µç 
  for (let i = 1; i <= totalPage; i++) {
    html += `<button class="page-btn ${i === filterState.currentPage ? 'active' : ''}" data-page="${i}">${i}</button>`;
  }
  // ä¸‹ä¸€é¡µ
  html += `<button class="page-btn" ${filterState.currentPage === totalPage ? 'disabled' : ''} data-page="next">ä¸‹ä¸€é¡µ</button>`;

  paginationContainer.innerHTML = html;
}

// 7. ç»‘å®šæ‰€æœ‰ç­›é€‰äº‹ä»¶
function bindFilterEvents() {
  // ä¸»åˆ†ç±»ç‚¹å‡»äº‹ä»¶
  document.getElementById('main-category-filter').addEventListener('click', (e) => {
    if (e.target.classList.contains('filter-btn')) {
      // æ›´æ–°æŒ‰é’®çŠ¶æ€
      document.querySelectorAll('#main-category-filter .filter-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      e.target.classList.add('active');

      // æ›´æ–°ç­›é€‰çŠ¶æ€
      filterState.mainCategory = e.target.dataset.main;
      filterState.subCategory = 'all';
      filterState.currentPage = 1;

      // æ›´æ–°å­åˆ†ç±»
      renderSubCategoryFilter(filterState.mainCategory);
      // é‡æ–°æ¸²æŸ“ä½œå“
      renderWorksList();
    }
  });

  // å­åˆ†ç±»ç‚¹å‡»äº‹ä»¶
  document.getElementById('sub-category-filter').addEventListener('click', (e) => {
    if (e.target.classList.contains('sub-filter-btn')) {
      document.querySelectorAll('#sub-category-filter .sub-filter-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      e.target.classList.add('active');

      filterState.subCategory = e.target.dataset.sub;
      filterState.currentPage = 1;
      renderWorksList();
    }
  });

  // æ ‡ç­¾ç‚¹å‡»äº‹ä»¶
  document.getElementById('tag-filter').addEventListener('click', (e) => {
    if (e.target.classList.contains('tag-item')) {
      const tag = e.target.dataset.tag;
      const index = filterState.selectedTags.indexOf(tag);

      // åˆ‡æ¢æ ‡ç­¾é€‰ä¸­çŠ¶æ€
      if (index === -1) {
        filterState.selectedTags.push(tag);
        e.target.classList.add('active');
      } else {
        filterState.selectedTags.splice(index, 1);
        e.target.classList.remove('active');
      }

      filterState.currentPage = 1;
      renderWorksList();
    }
  });

  // æœç´¢æ¡†è¾“å…¥äº‹ä»¶
  document.getElementById('gallery-search').addEventListener('input', (e) => {
    filterState.searchKeyword = e.target.value;
    filterState.currentPage = 1;
    renderWorksList();
  });

  // åˆ†é¡µç‚¹å‡»äº‹ä»¶
  document.getElementById('pagination').addEventListener('click', (e) => {
    if (e.target.classList.contains('page-btn') && !e.target.disabled) {
      const page = e.target.dataset.page;
      const totalPage = Math.ceil(filterWorks().length / GLOBAL_CONST.PAGE_SIZE);

      if (page === 'prev') {
        filterState.currentPage = Math.max(1, filterState.currentPage - 1);
      } else if (page === 'next') {
        filterState.currentPage = Math.min(totalPage, filterState.currentPage + 1);
      } else {
        filterState.currentPage = Number(page);
      }

      renderWorksList();
      // æ»šåŠ¨åˆ°é¡¶éƒ¨
      document.querySelector('.filter-section').scrollIntoView({ behavior: 'smooth' });
    }
  });
}

// 8. è·³è½¬åˆ°ä½œå“è¯¦æƒ…é¡µ
function goToWorkDetail(workId) {
  window.location.href = `detail.html?id=${workId}`;
}

// é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
document.addEventListener('DOMContentLoaded', initGalleryPage);
```

### 4. ä½œå“ä¸Šä¼ é¡µé€»è¾‘ `js/upload.js`
> å®ç°åˆ†ç±»è”åŠ¨é€‰æ‹©ã€å›¾ç‰‡é¢„è§ˆã€è¡¨å•éªŒè¯ã€ä½œå“ä¿å­˜åŠŸèƒ½
```javascript
/**
 * ä½œå“ä¸Šä¼ é¡µæ ¸å¿ƒé€»è¾‘
 * ä¾èµ– config.jsã€data.jsï¼Œéœ€ä¼˜å…ˆå¼•å…¥
 */

// é¡µé¢åˆå§‹åŒ–
function initUploadPage() {
  renderMainCategorySelect();
  bindUploadEvents();
}

// 1. æ¸²æŸ“ä¸»åˆ†ç±»ä¸‹æ‹‰æ¡†
function renderMainCategorySelect() {
  const mainSelect = document.getElementById('main-category-select');
  if (!mainSelect) return;

  let html = `<option value="">è¯·é€‰æ‹©ä½œå“ä¸»åˆ†ç±»</option>`;
  for (const key in CATEGORIES) {
    const category = CATEGORIES[key];
    html += `<option value="${category.id}">${category.icon} ${category.name}</option>`;
  }

  mainSelect.innerHTML = html;
}

// 2. ä¸»åˆ†ç±»å˜åŒ–æ—¶ï¼Œæ›´æ–°å­åˆ†ç±»ä¸‹æ‹‰æ¡†
function updateSubCategorySelect() {
  const mainSelect = document.getElementById('main-category-select');
  const subSelect = document.getElementById('sub-category-select');
  const selectedMain = mainSelect.value;

  let html = `<option value="">è¯·é€‰æ‹©ä½œå“å­åˆ†ç±»</option>`;

  // æœªé€‰æ‹©ä¸»åˆ†ç±»æ—¶ï¼Œç¦ç”¨å­åˆ†ç±»
  if (!selectedMain || !CATEGORIES[selectedMain]) {
    subSelect.innerHTML = html;
    subSelect.disabled = true;
    return;
  }

  // æ¸²æŸ“å¯¹åº”å­åˆ†ç±»
  const subCategories = CATEGORIES[selectedMain].subCategories;
  subCategories.forEach(sub => {
    html += `<option value="${sub.id}">${sub.name}</option>`;
  });

  subSelect.innerHTML = html;
  subSelect.disabled = false;
}

// 3. å›¾ç‰‡ä¸Šä¼ é¢„è§ˆ
function handleImageUpload(event) {
  const file = event.target.files[0];
  const previewImg = document.getElementById('upload-preview');
  const previewContainer = document.getElementById('preview-container');
  if (!file || !previewImg || !previewContainer) return;

  // éªŒè¯æ–‡ä»¶ç±»å‹
  if (!GLOBAL_CONST.ALLOW_IMAGE_TYPE.includes(file.type)) {
    alert('ä»…æ”¯æŒä¸Šä¼  JPGã€PNGã€WebP æ ¼å¼çš„å›¾ç‰‡');
    event.target.value = '';
    return;
  }

  // éªŒè¯æ–‡ä»¶å¤§å°
  if (file.size > GLOBAL_CONST.MAX_IMAGE_SIZE) {
    alert('å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 5MB');
    event.target.value = '';
    return;
  }

  // è¯»å–æ–‡ä»¶å¹¶é¢„è§ˆ
  const reader = new FileReader();
  reader.onload = function (e) {
    previewImg.src = e.target.result;
    previewContainer.style.display = 'block';
  };
  reader.readAsDataURL(file);
}

// 4. è¡¨å•éªŒè¯
function validateForm(formData) {
  const { title, mainCategory, subCategory, imageSrc } = formData;

  if (!title.trim()) {
    alert('è¯·å¡«å†™ä½œå“æ ‡é¢˜');
    return false;
  }
  if (!mainCategory) {
    alert('è¯·é€‰æ‹©ä½œå“ä¸»åˆ†ç±»');
    return false;
  }
  if (!subCategory) {
    alert('è¯·é€‰æ‹©ä½œå“å­åˆ†ç±»');
    return false;
  }
  if (!imageSrc) {
    alert('è¯·ä¸Šä¼ ä½œå“å›¾ç‰‡');
    return false;
  }

  return true;
}

// 5. æäº¤ä½œå“
function submitWork(event) {
  event.preventDefault();

  // è·å–è¡¨å•æ•°æ®
  const formData = {
    title: document.getElementById('work-title').value,
    mainCategory: document.getElementById('main-category-select').value,
    subCategory: document.getElementById('sub-category-select').value,
    description: document.getElementById('work-description').value,
    location: document.getElementById('work-location').value,
    shootDate: document.getElementById('work-shoot-date').value,
    photographer: document.getElementById('work-photographer').value || 'åŒ¿åç”¨æˆ·',
    tags: document.getElementById('work-tags').value,
    imageSrc: document.getElementById('upload-preview').src
  };

  // è¡¨å•éªŒè¯
  if (!validateForm(formData)) return;

  // å¤„ç†æ ‡ç­¾
  const tags = formData.tags
    ? formData.tags.split(/[,ï¼Œ\s]+/).filter(tag => tag.trim())
    : [];

  // æ„å»ºä½œå“æ•°æ®
  const newWork = {
    id: Date.now(), // ç”¨æ—¶é—´æˆ³ä½œä¸ºå”¯ä¸€ID
    title: formData.title,
    category: {
      main: formData.mainCategory,
      sub: formData.subCategory
    },
    description: formData.description,
    tags: tags,
    location: formData.location || 'æœªçŸ¥åœ°ç‚¹',
    shootDate: formData.shootDate || new Date().toISOString().split('T')[0],
    photographer: formData.photographer,
    views: 0,
    likes: 0,
    imageUrl: formData.imageSrc,
    thumbnailUrl: formData.imageSrc,
    uploadTime: new Date().toLocaleString()
  };

  // ä¿å­˜ä½œå“
  addNewWork(newWork);

  // æäº¤æˆåŠŸæç¤ºä¸è·³è½¬
  alert('ä½œå“ä¸Šä¼ æˆåŠŸï¼å³å°†è·³è½¬åˆ°å›¾åº“é¡µ');
  window.location.href = 'gallery.html';
}

// 6. ç»‘å®šæ‰€æœ‰äº‹ä»¶
function bindUploadEvents() {
  // ä¸»åˆ†ç±»å˜åŒ–äº‹ä»¶
  document.getElementById('main-category-select').addEventListener('change', updateSubCategorySelect);

  // å›¾ç‰‡ä¸Šä¼ äº‹ä»¶
  document.getElementById('image-upload').addEventListener('change', handleImageUpload);

  // è¡¨å•æäº¤äº‹ä»¶
  document.getElementById('upload-form').addEventListener('submit', submitWork);
}

// é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
document.addEventListener('DOMContentLoaded', initUploadPage);
```

### 5. ä½œå“è¯¦æƒ…é¡µé€»è¾‘ `js/detail.js`
> å®ç°ä½œå“è¯¦æƒ…æ¸²æŸ“ã€æµè§ˆé‡æ›´æ–°ã€ç‚¹èµåŠŸèƒ½ã€ç›¸å…³ä½œå“æ¨è
```javascript
/**
 * ä½œå“è¯¦æƒ…é¡µæ ¸å¿ƒé€»è¾‘
 * ä¾èµ– config.jsã€data.jsï¼Œéœ€ä¼˜å…ˆå¼•å…¥
 */

// å…¨å±€ä½œå“ID
let currentWorkId = null;

// é¡µé¢åˆå§‹åŒ–
function initDetailPage() {
  currentWorkId = getWorkIdFromUrl();
  if (!currentWorkId) {
    alert('ä½œå“ä¸å­˜åœ¨ï¼Œå³å°†è¿”å›å›¾åº“é¡µ');
    window.location.href = 'gallery.html';
    return;
  }

  renderWorkDetail();
  updateWorkViews(currentWorkId);
  renderRelatedWorks();
  bindDetailEvents();
}

// 1. ä»URLè·å–ä½œå“ID
function getWorkIdFromUrl() {
  const urlParams = new URLSearchParams(window.location.search);
  return urlParams.get('id');
}

// 2. æ¸²æŸ“ä½œå“è¯¦æƒ…
function renderWorkDetail() {
  const work = getWorkById(currentWorkId);
  if (!work) return;

  const category = CATEGORIES[work.category.main];
  const isLiked = isWorkLiked(currentWorkId);

  // å¡«å……é¡µé¢æ•°æ®
  document.getElementById('work-title').textContent = work.title;
  document.getElementById('work-main-image').src = work.imageUrl;
  document.getElementById('work-main-image').alt = work.title;
  document.getElementById('work-description').textContent = work.description || 'æš‚æ— ä½œå“æè¿°';
  document.getElementById('work-photographer').textContent = work.photographer;
  document.getElementById('work-shoot-date').textContent = work.shootDate;
  document.getElementById('work-location').textContent = work.location;
  document.getElementById('work-views').textContent = work.views;
  document.getElementById('work-likes').textContent = work.likes;
  document.getElementById('work-upload-time').textContent = work.uploadTime;

  // åˆ†ç±»ä¿¡æ¯
  const categoryElement = document.getElementById('work-category');
  categoryElement.textContent = `${category.icon} ${category.name} / ${category.subCategories.find(sub => sub.id === work.category.sub).name}`;
  categoryElement.style.color = category.themeColor;

  // æ ‡ç­¾æ¸²æŸ“
  const tagContainer = document.getElementById('work-tags');
  tagContainer.innerHTML = work.tags.map(tag => `<span class="detail-tag">${tag}</span>`).join('');

  // ç‚¹èµæŒ‰é’®çŠ¶æ€
  const likeBtn = document.getElementById('like-btn');
  if (isLiked) {
    likeBtn.classList.add('liked');
    likeBtn.innerHTML = 'â¤ï¸ å·²ç‚¹èµ';
  }
}

// 3. æ¸²æŸ“ç›¸å…³ä½œå“æ¨èï¼ˆåŒåˆ†ç±»ä½œå“ï¼‰
function renderRelatedWorks() {
  const work = getWorkById(currentWorkId);
  const relatedContainer = document.getElementById('related-works');
  if (!work || !relatedContainer) return;

  // è·å–åŒåˆ†ç±»çš„å…¶ä»–ä½œå“
  const allWorks = getAllWorks();
  const relatedWorks = allWorks
    .filter(item => item.category.main === work.category.main && item.id !== Number(currentWorkId))
    .slice(0, 4);

  if (relatedWorks.length === 0) {
    relatedContainer.innerHTML = '<div class="no-related">æš‚æ— ç›¸å…³ä½œå“æ¨è</div>';
    return;
  }

  // æ¸²æŸ“ç›¸å…³ä½œå“
  let html = '';
  relatedWorks.forEach(item => {
    html += `
      <div class="related-card" onclick="goToWorkDetail(${item.id})">
        <div class="related-img-wrapper">
          <img src="${item.thumbnailUrl}" alt="${item.title}" loading="lazy">
        </div>
        <p class="related-title">${item.title}</p>
      </div>
    `;
  });

  relatedContainer.innerHTML = html;
}

// 4. ç»‘å®šäº‹ä»¶
function bindDetailEvents() {
  // ç‚¹èµæŒ‰é’®ç‚¹å‡»äº‹ä»¶
  document.getElementById('like-btn').addEventListener('click', () => {
    const result = toggleWorkLike(currentWorkId);
    const likeBtn = document.getElementById('like-btn');
    const likesCount = document.getElementById('work-likes');

    if (result.isLiked) {
      likeBtn.classList.add('liked');
      likeBtn.innerHTML = 'â¤ï¸ å·²ç‚¹èµ';
    } else {
      likeBtn.classList.remove('liked');
      likeBtn.innerHTML = 'ğŸ¤ ç‚¹èµ';
    }

    likesCount.textContent = result.likes;
  });

  // è¿”å›å›¾åº“æŒ‰é’®äº‹ä»¶
  document.getElementById('back-btn').addEventListener('click', () => {
    window.history.back();
  });
}

// é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
document.addEventListener('DOMContentLoaded', initDetailPage);
```

### 6. å…¨å±€é€šç”¨é€»è¾‘ `js/main.js`
> å®ç°å…¨ç«™å¯¼èˆªã€å…¨å±€æœç´¢ã€å…¬å…±æ–¹æ³•ã€ä½ç‰ˆæœ¬æµè§ˆå™¨å…¼å®¹å¤„ç†
```javascript
/**
 * å…¨ç«™é€šç”¨é€»è¾‘
 * æ‰€æœ‰é¡µé¢å‡éœ€å¼•å…¥ï¼Œä¾èµ– config.jsã€data.js
 */

// é¡µé¢åˆå§‹åŒ–
function initSite() {
  renderNavCategory();
  bindGlobalSearchEvent();
  checkBrowserCompatibility();
}

// 1. æ¸²æŸ“å¯¼èˆªæ åˆ†ç±»ä¸‹æ‹‰èœå•
function renderNavCategory() {
  const navCategoryContainer = document.getElementById('nav-category-dropdown');
  if (!navCategoryContainer) return;

  let html = '';
  for (const key in CATEGORIES) {
    const category = CATEGORIES[key];
    html += `
      <a href="gallery.html?category=${category.id}" class="dropdown-item">
        ${category.icon} ${category.name}
      </a>
    `;
  }

  navCategoryContainer.innerHTML = html;
}

// 2. å…¨å±€æœç´¢åŠŸèƒ½
function bindGlobalSearchEvent() {
  const searchInput = document.getElementById('global-search-input');
  const searchBtn = document.getElementById('global-search-btn');
  if (!searchInput || !searchBtn) return;

  // æœç´¢æŒ‰é’®ç‚¹å‡»äº‹ä»¶
  function handleGlobalSearch() {
    const keyword = searchInput.value.trim();
    if (keyword) {
      // è·³è½¬åˆ°å›¾åº“é¡µï¼Œæºå¸¦æœç´¢å…³é”®è¯
      window.location.href = `gallery.html?keyword=${encodeURIComponent(keyword)}`;
    }
  }

  searchBtn.addEventListener('click', handleGlobalSearch);
  // å›è½¦æœç´¢
  searchInput.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') {
      handleGlobalSearch();
    }
  });
}

// 3. é¡µé¢åŠ è½½æ—¶ï¼Œè¯»å–URLå‚æ•°ï¼Œåˆå§‹åŒ–ç­›é€‰çŠ¶æ€
function initFilterFromUrl() {
  // ä»…åœ¨å›¾åº“é¡µæ‰§è¡Œ
  if (window.location.pathname.includes('gallery.html')) {
    const urlParams = new URLSearchParams(window.location.search);
    const category = urlParams.get('category');
    const keyword = urlParams.get('keyword');

    if (category && CATEGORIES[category]) {
      filterState.mainCategory = category;
      filterState.subCategory = 'all';
      // ç­‰å¾…é¡µé¢åˆå§‹åŒ–å®Œæˆåï¼Œæ›´æ–°ç­›é€‰çŠ¶æ€
      setTimeout(() => {
        document.querySelectorAll('#main-category-filter .filter-btn').forEach(btn => {
          btn.classList.remove('active');
          if (btn.dataset.main === category) {
            btn.classList.add('active');
          }
        });
        renderSubCategoryFilter(category);
        renderWorksList();
      }, 100);
    }

    if (keyword) {
      filterState.searchKeyword = decodeURIComponent(keyword);
      // ç­‰å¾…é¡µé¢åˆå§‹åŒ–å®Œæˆåï¼Œæ›´æ–°æœç´¢æ¡†
      setTimeout(() => {
        document.getElementById('gallery-search').value = filterState.searchKeyword;
        renderWorksList();
      }, 100);
    }
  }
}

// 4. æµè§ˆå™¨å…¼å®¹æ€§æ£€æµ‹ä¸æç¤º
function checkBrowserCompatibility() {
  // æ£€æµ‹ localStorage æ”¯æŒ
  try {
    const testKey = '__browser_test__';
    localStorage.setItem(testKey, testKey);
    localStorage.removeItem(testKey);
  } catch (e) {
    alert('æ‚¨çš„æµè§ˆå™¨ç‰ˆæœ¬è¿‡ä½ï¼Œæ— æ³•ä½¿ç”¨æœ¬ç«™çš„å®Œæ•´åŠŸèƒ½ï¼Œè¯·å‡çº§æµè§ˆå™¨åè®¿é—®');
  }

  // æ£€æµ‹ ES6 æ”¯æŒ
  try {
    new Function('() => {}');
  } catch (e) {
    console.warn('æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒES6è¯­æ³•ï¼Œéƒ¨åˆ†åŠŸèƒ½å¯èƒ½æ— æ³•æ­£å¸¸ä½¿ç”¨');
  }
}

// 5. å…¬å…±æ–¹æ³•ï¼šå›¾ç‰‡æ‡’åŠ è½½å…¼å®¹å¤„ç†
function lazyLoadImages() {
  const images = document.querySelectorAll('img[loading="lazy"]');
  // ä¸æ”¯æŒåŸç”Ÿæ‡’åŠ è½½çš„æµè§ˆå™¨ï¼Œç”¨Intersection Observerå®ç°
  if ('loading' in HTMLImageElement.prototype === false && 'IntersectionObserver' in window) {
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const img = entry.target;
          img.src = img.dataset.src || img.src;
          observer.unobserve(img);
        }
      });
    });

    images.forEach(img => {
      observer.observe(img);
    });
  }
}

// é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
document.addEventListener('DOMContentLoaded', () => {
  initSite();
  initFilterFromUrl();
  lazyLoadImages();
});
```


### å¸ƒå±€ä¸ç»„ä»¶æ ·å¼å¯åŸºäºä¸Šè¿°å…¨å±€æ ·å¼æ‰©å±•ï¼Œæ ¸å¿ƒéµå¾ªä»¥ä¸‹è§„èŒƒï¼š
1. å“åº”å¼å¸ƒå±€ä½¿ç”¨ CSS Grid + Flexbox å®ç°ï¼Œç§»åŠ¨ç«¯æ–­ç‚¹è®¾ç½®ä¸º 768pxï¼Œå¹³æ¿æ–­ç‚¹ä¸º 992px
2. æ‰€æœ‰äº¤äº’å…ƒç´ å‡æ·»åŠ  `transition` è¿‡æ¸¡åŠ¨ç”»ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
3. å›¾ç‰‡ç»Ÿä¸€ä½¿ç”¨ `object-fit: cover` ä¿è¯æ¯”ä¾‹ä¸å˜ï¼Œé¿å…æ‹‰ä¼¸å˜å½¢
4. æ‰€æœ‰è¡¨å•å…ƒç´ å‡æ·»åŠ èšç„¦çŠ¶æ€æ ·å¼ï¼Œæå‡å¯è®¿é—®æ€§
5. ä½ç‰ˆæœ¬æµè§ˆå™¨ä½¿ç”¨ `@supports` åšé™çº§å¤„ç†ï¼Œä¿è¯åŸºç¡€åŠŸèƒ½å¯ç”¨